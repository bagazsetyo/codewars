<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- bootstrap 4 cdn -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>

    <div id="tabPeserta" class="tab-pane active">
        <div class="table-responsive" style="overflow-x: scroll;">
            <table class="table table-striped table-bordered table-hover">
                <thead>
                    <tr>
                        <td class="urutan"></td><input type="hidden" value="198608122010122007"
                            name="Peserta[0][nip]"><input type="hidden" value="198608122010122007"
                            name="Type[0][nip]"><input type="hidden" value="Kunty Rarasati, S.H."
                            name="Peserta[0][nama]">
                        <td class="nama"></td>
                        <td class="golongan"></td>
                        <td><input type="text" value="1" class="jumlah_hari form-control input-sm jumlah_total"
                                name="Peserta[0][rincian][jumlah][jumlah_hari]" size="12" readonly="true"></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="tiket formatted form-control input-sm" name="Peserta[0][rincian][tiket]"
                                size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][tiket]"
                                class="form-control keterangan-renkas select-tiket" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="uang_representasi formatted form-control input-sm"
                                name="Peserta[0][rincian][uang_representasi]" size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][uang_representasi]"
                                class="form-control keterangan-renkas select-uang_representasi" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="hotel formatted form-control input-sm" name="Peserta[0][rincian][hotel]"
                                size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][hotel]"
                                class="form-control keterangan-renkas select-hotel" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="uang_harian formatted form-control input-sm"
                                name="Peserta[0][rincian][uang_harian]" size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][uang_harian]"
                                class="form-control keterangan-renkas select-uang_harian" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="taksi formatted form-control input-sm" name="Peserta[0][rincian][taksi]"
                                size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][taksi]"
                                class="form-control keterangan-renkas select-taksi" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="jumlah formatted form-control input-sm" name="jumlah[jumlah]" size="12"
                                readonly="true" style="display: none;"></td>
                    </tr>
                    <tr>
                        <td>No</td>
                        <td>Nama</td>
                        <td>Gol</td>
                        <td>Jumlah Hari</td>
                        <td style="white-space:nowrap">Tiket </td>
                        <td style="white-space:nowrap"> Detail Renkas </td>
                        <td style="white-space:nowrap">Total Uang Representasi </td>
                        <td style="white-space:nowrap"> Detail Renkas </td>
                        <td style="white-space:nowrap">Total Hotel </td>
                        <td style="white-space:nowrap"> Detail Renkas </td>
                        <td style="white-space:nowrap">Total Uang Harian </td>
                        <td style="white-space:nowrap"> Detail Renkas </td>
                        <td style="white-space:nowrap">Taksi </td>
                        <td style="white-space:nowrap"> Detail Renkas </td>
                        <td style="white-space:nowrap">Jumlah </td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="urutan">1</td><input type="hidden" value="198608122010122007"
                            name="Peserta[0][nip]"><input type="hidden" value="198608122010122007"
                            name="Type[0][nip]"><input type="hidden" value="Kunty Rarasati, S.H."
                            name="Peserta[0][nama]">
                        <td class="nama">Kunty Rarasati, S.H.</td>
                        <td class="golongan">III/c</td>
                        <td><input type="text" value="1" class="jumlah_hari form-control input-sm jumlah_total"
                                name="Peserta[0][rincian][jumlah][jumlah_hari]" size="12" readonly="true"></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="tiket formatted form-control input-sm" name="Peserta[0][rincian][tiket]"
                                size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][tiket]"
                                class="form-control keterangan-renkas" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="uang_representasi formatted form-control input-sm"
                                name="Peserta[0][rincian][uang_representasi]" size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][uang_representasi]"
                                class="form-control keterangan-renkas" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="hotel formatted form-control input-sm" name="Peserta[0][rincian][hotel]"
                                size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][hotel]"
                                class="form-control keterangan-renkas" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="uang_harian formatted form-control input-sm"
                                name="Peserta[0][rincian][uang_harian]" size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][uang_harian]"
                                class="form-control keterangan-renkas" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="taksi formatted form-control input-sm" name="Peserta[0][rincian][taksi]"
                                size="12"></td>
                        <td style="min-width:150px"><select name="Type[0][keterangan][taksi]"
                                class="form-control keterangan-renkas" value="0">
                                <option data-max="0" value="0">Pilih</option>
                                <option data-max="300000" value="28339">Konsumsi Rapat [30 ORG x 5 KGT]</option>
                            </select></td>
                        <td style="min-width:150px"><input type="text" value="0"
                                class="jumlah formatted form-control input-sm" name="jumlah[jumlah]" size="12"
                                readonly="true"></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><strong>JUMLAH</strong></td>
                        <td></td>
                        <td></td>
                        <td><input type="text" id="total_tiket" value="0"
                                class="total_tiket formatted form-control input-sm" name="total_tiket[]" size="12"></td>
                        <td></td>
                        <td><input type="text" id="total_uang_representasi" value="0"
                                class="total_uang_representasi formatted form-control input-sm"
                                name="total_uang_representasi[]" size="12"></td>
                        <td></td>
                        <td><input type="text" id="total_hotel" value="0"
                                class="total_hotel formatted form-control input-sm" name="total_hotel[]" size="12"></td>
                        <td></td>
                        <td><input type="text" id="total_uang_harian" value="0"
                                class="total_uang_harian formatted form-control input-sm" name="total_uang_harian[]"
                                size="12"></td>
                        <td></td>
                        <td><input type="text" id="total_taksi" value="0"
                                class="total_taksi formatted form-control input-sm" name="total_taksi[]" size="12"></td>
                        <td></td>
                        <td><input type="text" id="total_jumlah" value="0"
                                class="total_jumlah formatted form-control input-sm" name="total_jumlah[]" size="12">
                        </td>
                    </tr>
                </tbody>
                <tfoot></tfoot>
            </table>
        </div>
        <a class="btn btn-info pull-right nexttab noborder-radius" aria-expanded="true">Selanjutnya</a>
        <div class="clearfix"></div>
    </div>

    <button class="btn btn-rimary" id="btn">check</button>

    <!-- jquery 3 cdn -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>

    <script>
        // on click checkDetailRenkas
        $('#btn').click(function (event) {
            var clicked = true;
            console.log(2);
            $('table').find('tbody tr').each(function (index, el) {
                // find select all select 
                $(el).find('select').each(function (indexSelect, elementSelect) {
                    // get name select 
                    var nameSelect = $(elementSelect).attr('name');
                    var nameInput = nameSelect.replace('Type', 'Peserta').replace('[keterangan]', '[rincian]');
                    // get value select
                    var valueSelect = $(elementSelect).val();
                    // get max value
                    var maxValue = $(elementSelect).find('option:selected').data('max');
                    // get input
                    var input = $(el).find('input[name="' + nameInput + '"]');
                    // get value input
                    var valueInput = $(input).val().replace(/\./g, '');
                    // check max value < valueInput
                    if (maxValue < parseInt(valueInput)) {
                        // set value input = max value
                        // $(input).val(maxValue);
                        $(input).val(maxValue.toString());
                        // alert
                        alert('Maaf, jumlah yang anda masukkan melebihi batas maksimal');
                        // set clicked = false
                        clicked = false;
                        throw new Error("Maaf, jumlah yang anda masukkan melebihi batas maksimal!");
                        return false;
                    }
                });
            });
            if (clicked) {
                // clicked input value Simpan
                $('#EditSimpan').click();
            }
        });
    </script>
</body>

</html>