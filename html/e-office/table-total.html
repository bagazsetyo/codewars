<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>
  <body class="container">
    <div id="tabPeserta" class="tab-pane active">
      <div class="table-responsive" style="overflow-x: scroll">
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr>
              <td class="urutan"></td>
              <input type="hidden" value="198310202005012001" name="Peserta[0][nip]" /><input type="hidden" value="198310202005012001" name="Type[0][nip]" /><input type="hidden" value="Murtiyastuti, S.E." name="Peserta[0][nama]" />
              <td class="nama"></td>
              <td class="golongan"></td>
              <td><input type="text" value="3" class="jumlah_hari form-control input-sm jumlah_total" name="Peserta[0][rincian][jumlah][jumlah_hari]" size="12" readonly="true" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][tiket]" class="form-control keterangan-renkas select-tiket" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="tiket formatted form-control input-sm" name="Peserta[0][rincian][tiket]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][uang_representasi]" class="form-control keterangan-renkas select-uang_representasi" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="uang_representasi formatted form-control input-sm" name="Peserta[0][rincian][uang_representasi]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][hotel]" class="form-control keterangan-renkas select-hotel" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="hotel formatted form-control input-sm" name="Peserta[0][rincian][hotel]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][uang_harian]" class="form-control keterangan-renkas select-uang_harian" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="uang_harian formatted form-control input-sm" name="Peserta[0][rincian][uang_harian]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][taksi_asal]" class="form-control keterangan-renkas select-taksi_asal" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="taksi_asal formatted form-control input-sm" name="Peserta[0][rincian][taksi_asal]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][taksi_tujuan]" class="form-control keterangan-renkas select-taksi_tujuan" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="taksi_tujuan formatted form-control input-sm" name="Peserta[0][rincian][taksi_tujuan]" size="12" /></td>
              <td style="min-width: 150px"><input type="text" value="0" class="jumlah formatted form-control input-sm" name="jumlah[jumlah]" size="12" readonly="true" style="display: none" /></td>
            </tr>
            <tr>
              <td>No</td>
              <td>Nama</td>
              <td>Gol</td>
              <td>Jumlah Hari</td>
              <td style="white-space: nowrap">Detail Renkas Tiket</td>
              <td style="white-space: nowrap">Tiket</td>
              <td style="white-space: nowrap">Detail Renkas UR</td>
              <td style="white-space: nowrap">Total Uang Representasi</td>
              <td style="white-space: nowrap">Detail Renkas Hotel</td>
              <td style="white-space: nowrap">Total Hotel</td>
              <td style="white-space: nowrap">Detail Renkas UH</td>
              <td style="white-space: nowrap">Total Uang Harian</td>
              <td style="white-space: nowrap">Detail Taksi Asal</td>
              <td style="white-space: nowrap">Taksi Asal</td>
              <td style="white-space: nowrap">Detail Taksi Tujuan</td>
              <td style="white-space: nowrap">Taksi Tujuan</td>
              <td style="white-space: nowrap">Jumlah</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="urutan">1</td>
              <input type="hidden" value="198310202005012001" name="Peserta[0][nip]" /><input type="hidden" value="198310202005012001" name="Type[0][nip]" /><input type="hidden" value="Murtiyastuti, S.E." name="Peserta[0][nama]" />
              <td class="nama">Murtiyastuti, S.E.</td>
              <td class="golongan">III/c</td>
              <td><input type="text" value="3" class="jumlah_hari form-control input-sm jumlah_total" name="Peserta[0][rincian][jumlah][jumlah_hari]" size="12" readonly="true" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][tiket]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="tiket formatted form-control input-sm" name="Peserta[0][rincian][tiket]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][uang_representasi]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="uang_representasi formatted form-control input-sm" name="Peserta[0][rincian][uang_representasi]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][hotel]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="hotel formatted form-control input-sm" name="Peserta[0][rincian][hotel]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][uang_harian]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="uang_harian formatted form-control input-sm" name="Peserta[0][rincian][uang_harian]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][taksi_asal]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="taksi_asal formatted form-control input-sm" name="Peserta[0][rincian][taksi_asal]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[0][keterangan][taksi_tujuan]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="taksi_tujuan formatted form-control input-sm" name="Peserta[0][rincian][taksi_tujuan]" size="12" /></td>
              <td style="min-width: 150px"><input type="text" value="0" class="jumlah formatted form-control input-sm" name="jumlah[jumlah]" size="12" readonly="true" /></td>
            </tr>
            <tr>
              <td class="urutan">2</td>
              <input type="hidden" value="198501172009122001" name="Peserta[1][nip]" /><input type="hidden" value="198501172009122001" name="Type[1][nip]" /><input type="hidden" value="Monalissa Anugerah, S.H., M.H." name="Peserta[1][nama]" />
              <td class="nama">Monalissa Anugerah, S.H., M.H.</td>
              <td class="golongan">III/c</td>
              <td><input type="text" value="3" class="jumlah_hari form-control input-sm jumlah_total" name="Peserta[1][rincian][jumlah][jumlah_hari]" size="12" readonly="true" /></td>
              <td style="min-width: 150px">
                <select name="Type[1][keterangan][tiket]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="tiket formatted form-control input-sm" name="Peserta[1][rincian][tiket]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[1][keterangan][uang_representasi]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="uang_representasi formatted form-control input-sm" name="Peserta[1][rincian][uang_representasi]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[1][keterangan][hotel]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="hotel formatted form-control input-sm" name="Peserta[1][rincian][hotel]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[1][keterangan][uang_harian]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="uang_harian formatted form-control input-sm" name="Peserta[1][rincian][uang_harian]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[1][keterangan][taksi_asal]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="taksi_asal formatted form-control input-sm" name="Peserta[1][rincian][taksi_asal]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[1][keterangan][taksi_tujuan]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="taksi_tujuan formatted form-control input-sm" name="Peserta[1][rincian][taksi_tujuan]" size="12" /></td>
              <td style="min-width: 150px"><input type="text" value="0" class="jumlah formatted form-control input-sm" name="jumlah[jumlah]" size="12" readonly="true" /></td>
            </tr>
            <tr>
              <td class="urutan">3</td>
              <input type="hidden" value="197711182001121001" name="Peserta[2][nip]" /><input type="hidden" value="197711182001121001" name="Type[2][nip]" /><input type="hidden" value="Muslimin, S.H., M.H." name="Peserta[2][nama]" />
              <td class="nama">Muslimin, S.H., M.H.</td>
              <td class="golongan">III/c</td>
              <td><input type="text" value="3" class="jumlah_hari form-control input-sm jumlah_total" name="Peserta[2][rincian][jumlah][jumlah_hari]" size="12" readonly="true" /></td>
              <td style="min-width: 150px">
                <select name="Type[2][keterangan][tiket]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="tiket formatted form-control input-sm" name="Peserta[2][rincian][tiket]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[2][keterangan][uang_representasi]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="uang_representasi formatted form-control input-sm" name="Peserta[2][rincian][uang_representasi]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[2][keterangan][hotel]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="hotel formatted form-control input-sm" name="Peserta[2][rincian][hotel]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[2][keterangan][uang_harian]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="uang_harian formatted form-control input-sm" name="Peserta[2][rincian][uang_harian]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[2][keterangan][taksi_asal]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="taksi_asal formatted form-control input-sm" name="Peserta[2][rincian][taksi_asal]" size="12" /></td>
              <td style="min-width: 150px">
                <select name="Type[2][keterangan][taksi_tujuan]" class="form-control keterangan-renkas" value="0">
                  <option data-max="0" value="0">Pilih</option>
                  <option data-max="900000" value="157859">kudapan rapat biasa</option>
                  <option data-max="1000000" value="158743">Tiket</option>
                </select>
              </td>
              <td style="min-width: 150px"><input type="text" value="0" class="taksi_tujuan formatted form-control input-sm" name="Peserta[2][rincian][taksi_tujuan]" size="12" /></td>
              <td style="min-width: 150px"><input type="text" value="0" class="jumlah formatted form-control input-sm" name="jumlah[jumlah]" size="12" readonly="true" /></td>
            </tr>
            <tr>
              <td></td>
              <td><strong>JUMLAH</strong></td>
              <td></td>
              <td></td>
              <td></td>
              <td><input type="text" id="total_tiket" value="0" class="total_tiket formatted form-control input-sm" name="total_tiket[]" size="12" /></td>
              <td></td>
              <td><input type="text" id="total_uang_representasi" value="0" class="total_uang_representasi formatted form-control input-sm" name="total_uang_representasi[]" size="12" /></td>
              <td></td>
              <td><input type="text" id="total_hotel" value="0" class="total_hotel formatted form-control input-sm" name="total_hotel[]" size="12" /></td>
              <td></td>
              <td><input type="text" id="total_uang_harian" value="0" class="total_uang_harian formatted form-control input-sm" name="total_uang_harian[]" size="12" /></td>
              <td></td>
              <td><input type="text" id="total_taksi_asal" value="0" class="total_taksi_asal formatted form-control input-sm" name="total_taksi_asal[]" size="12" /></td>
              <td></td>
              <td><input type="text" id="total_taksi_tujuan" value="0" class="total_taksi_tujuan formatted form-control input-sm" name="total_taksi_tujuan[]" size="12" /></td>
              <td><input type="text" id="total_jumlah" value="0" class="total_jumlah formatted form-control input-sm" name="total_jumlah[]" size="12" /></td>
            </tr>
          </tbody>
          <tfoot></tfoot>
        </table>
      </div>
      <a class="btn btn-info pull-right nexttab noborder-radius" aria-expanded="true">Selanjutnya</a>
      <div class="clearfix"></div>

      <button id="refresh">click</button>
    </div>
    <script>
        let tbody = $('#tabPeserta table tbody tr select').eq(0).find('option');

        // tbody.each(function(i, val){
        //   let options = $(val).find('option');

        tbody.each(function() {
            let optionValue = $(this).val();
            let optionText = $(this).text();

            console.log("Value:", optionValue);
            console.log("Text:", optionText);
          });
        // })

      // function getTotalData(){
      //   let tbody = $('#tabPeserta table tbody tr');
  
      //   // ignore last tr 
      //   tbody = tbody.slice(0, -1);
  
      //   // get one of tbody 
      //   let initialSelect = tbody[0];
      //   let getNameSelect = [];
      //   let select = $(initialSelect).find('select');
      //   select.each(function (i, v) {
      //     let name = $(v).attr('name');
      //     name = name.split('[').pop().split(']').shift();
      //     getNameSelect.push(name);
      //   });
  
      //   let mapSelectInput = [];
      //   tbody.each(function (index, v) {
      //     let select = $(v).find('select') 
      //     let input = $(v).find('input[name^="Peserta"][name*="[rincian]"]');
  
      //     // let mapInput = [];
      //     input.each(function (i, v) {
      //       let name = $(v).attr('name');
      //       name = name.split('[').pop().split(']').shift();
            
      //       // check if name in getNameSelect or not 
      //       if(getNameSelect.includes(name)){
  
      //         // get value on select using name by variable name 
      //         let selectValue = $(v).closest('tr').find('select[name$="['+name+']"]').val();
      //         mapSelectInput.push({
      //           name: name,
      //           value: $(v).val().replace(/,/g, ''),
      //           renkas: selectValue,
      //           index: index
      //         });

      //         console.log($(v).val())
      //       }
      //     });
      //   });
        
      //   let totalData = [];
      //   mapSelectInput.forEach(function(item) {
      //       var renkas = item.renkas;
      //       var value = parseFloat(item.value, 10);
            
      //       if (isNaN(value)) {
      //           value = 0;
      //       }

      //       if (!totalData[renkas]) {
      //           totalData[renkas] = 0;
      //       }
      //       totalData[renkas] += value;
      //   });
        
      //   console.log(totalData)
      // }


      // $('#refresh').on('click', function(e){
      //   getTotalData();
      // })
    </script>
  </body>
</html>
